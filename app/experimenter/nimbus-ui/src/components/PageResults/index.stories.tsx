/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { withLinks } from "@storybook/addon-links";
import { storiesOf } from "@storybook/react";
import fetchMock from "fetch-mock";
import React from "react";
import PageResults from ".";
import { mockExperimentQuery } from "../../lib/mocks";
import { RouterSlugProvider } from "../../lib/test-utils";
import { FIXTURE_ANALYSIS_SIX_BRANCHES } from "../../lib/visualization/fixture-six-branches";
import { mockAnalysis } from "../../lib/visualization/mocks";
import { getExperiment_experimentBySlug } from "../../types/getExperiment";
import {
  NimbusExperimentApplication,
  NimbusExperimentPublishStatus,
  NimbusExperimentStatus,
} from "../../types/globalTypes";

storiesOf("pages/Results", module)
  .addDecorator(withLinks)
  .add("basic", () => {
    fetchMock
      .restore()
      .getOnce("/api/v3/visualization/demo-slug/", mockAnalysis());
    const { mock } = mockExperimentQuery("demo-slug", {
      status: NimbusExperimentStatus.COMPLETE,
    });
    return (
      <RouterSlugProvider mocks={[mock]}>
        <PageResults />
      </RouterSlugProvider>
    );
  })
  .add("with XL data set", () => {
    fetchMock
      .restore()
      .getOnce(
        `/api/v3/visualization/demo-slug/`,
        FIXTURE_ANALYSIS_SIX_BRANCHES,
      );
    const { mock } = mockExperimentQuery("demo-slug", {
      ...FIXTURE_EXPERIMENT_SIX_BRANCHES,
    });
    return (
      <RouterSlugProvider mocks={[mock]}>
        <PageResults />
      </RouterSlugProvider>
    );
  });

export const FIXTURE_EXPERIMENT_SIX_BRANCHES = {
  id: 25,
  name: "Multi-Stage Onboarding Ask And Show To Pin",
  slug: "demo-slug",
  status: NimbusExperimentStatus.COMPLETE,
  statusNext: null,
  publishStatus: NimbusExperimentPublishStatus.IDLE,
  monitoringDashboardUrl:
    "https://grafana.telemetry.mozilla.org/d/XspgvdxZz/experiment-enrollment?orgId=1&var-experiment_id=demo-slug&from=1614124800000&to=1616716800000",
  resultsReady: true,
  hypothesis:
    "If we ask users to pin and show them how during onboarding, then we will see an increase in days of use, because we have observed that pinning can have an important impact on usage through a past experiment.",
  application: NimbusExperimentApplication.DESKTOP,
  publicDescription:
    "Message Experiment: Ask new profiles to pin Firefox and show them how.",
  owner: {
    email: "pdahiya@mozilla.com",
  },
  referenceBranch: {
    name: "control-no-show",
    slug: "control-no-show",
    description: "Zero onboarding control",
    ratio: 10,
    featureValue: "",
    featureEnabled: false,
  },
  treatmentBranches: [
    {
      name: "msw_control",
      slug: "msw_control",
      description: "Default multistage about:welcome",
      ratio: 18,
      featureValue: '{"id": "msw_control", "template": "multistage"}',
      featureEnabled: true,
    },
    {
      name: "msw_a",
      slug: "msw_a",
      description:
        'First step as Pin with subtitle as Right-click the Firefox icon in your taskbar & select "Pin to Taskbar" and image as pin-to-taskbar-v1',
      ratio: 18,
      featureValue:
        '{ "id": "msw_a", "template": "multistage", "screens": [{ "id": "AW_PIN", "order": 0, "content": { "zap": true, "help_text": {"text": "Speed, safety, and privacy every time you browse.", "position": "default" }, "tiles": { "type": "image", "media_type": "pin", "source": { "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v1.svg" }}, "title": "Pin Firefox to your taskbar", "subtitle": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"", "primary_button": { "label": "Done", "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_IMPORT_SETTINGS", "order": 1, "content": { "zap": true, "disclaimer": { "string_id": "onboarding-import-sites-disclaimer" }, "title": { "string_id": "onboarding-multistage-import-header" }, "subtitle": { "string_id": "onboarding-multistage-import-subtitle" }, "tiles": { "type": "topsites", "showTitles": true }, "primary_button": { "label": { "string_id": "onboarding-multistage-import-primary-button-label" }, "action": { "type": "SHOW_MIGRATION_WIZARD", "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_CHOOSE_THEME", "order": 2, "content": { "zap": true, "title": { "string_id": "onboarding-multistage-theme-header" }, "subtitle": { "string_id": "onboarding-multistage-theme-subtitle" }, "tiles": { "type": "theme", "action": { "theme": "<event>" }, "data": [{ "theme": "automatic", "label": { "string_id": "onboarding-multistage-theme-label-automatic" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-automatic-2" }, "description": { "string_id": "onboarding-multistage-theme-description-automatic-2" } }, { "theme": "light", "label": { "string_id": "onboarding-multistage-theme-label-light" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-light-2" }, "description": { "string_id": "onboarding-multistage-theme-description-light" } }, { "theme": "dark", "label": { "string_id": "onboarding-multistage-theme-label-dark" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-dark-2" }, "description": { "string_id": "onboarding-multistage-theme-description-dark" } }, { "theme": "alpenglow", "label": { "string_id": "onboarding-multistage-theme-label-alpenglow" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2" }, "description": { "string_id": "onboarding-multistage-theme-description-alpenglow" } } ] }, "primary_button": { "label": { "string_id": "onboarding-multistage-theme-primary-button-label" }, "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-theme-secondary-button-label" }, "action": { "theme": "automatic", "navigate": true } } } } ] }',
      featureEnabled: true,
    },
    {
      name: "msw_b",
      slug: "msw_b",
      description:
        "First step as Pin with subtitle as Speed, safety, and privacy every time you browse. and image as pin-to-taskbar-v1",
      ratio: 18,
      featureValue:
        '{ "id": "msw_b", "template": "multistage", "screens": [{ "id": "AW_PIN", "order": 0, "content": { "zap": true, "help_text": {"text": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"", "position": "default" }, "tiles": { "type": "image", "media_type": "pin", "source": { "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v1.svg" }}, "title": "Pin Firefox to your taskbar", "subtitle": "Speed, safety, and privacy every time you browse.", "primary_button": { "label": "Done", "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_IMPORT_SETTINGS", "order": 1, "content": { "zap": true, "disclaimer": { "string_id": "onboarding-import-sites-disclaimer" }, "title": { "string_id": "onboarding-multistage-import-header" }, "subtitle": { "string_id": "onboarding-multistage-import-subtitle" }, "tiles": { "type": "topsites", "showTitles": true }, "primary_button": { "label": { "string_id": "onboarding-multistage-import-primary-button-label" }, "action": { "type": "SHOW_MIGRATION_WIZARD", "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_CHOOSE_THEME", "order": 2, "content": { "zap": true, "title": { "string_id": "onboarding-multistage-theme-header" }, "subtitle": { "string_id": "onboarding-multistage-theme-subtitle" }, "tiles": { "type": "theme", "action": { "theme": "<event>" }, "data": [{ "theme": "automatic", "label": { "string_id": "onboarding-multistage-theme-label-automatic" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-automatic-2" }, "description": { "string_id": "onboarding-multistage-theme-description-automatic-2" } }, { "theme": "light", "label": { "string_id": "onboarding-multistage-theme-label-light" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-light-2" }, "description": { "string_id": "onboarding-multistage-theme-description-light" } }, { "theme": "dark", "label": { "string_id": "onboarding-multistage-theme-label-dark" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-dark-2" }, "description": { "string_id": "onboarding-multistage-theme-description-dark" } }, { "theme": "alpenglow", "label": { "string_id": "onboarding-multistage-theme-label-alpenglow" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2" }, "description": { "string_id": "onboarding-multistage-theme-description-alpenglow" } } ] }, "primary_button": { "label": { "string_id": "onboarding-multistage-theme-primary-button-label" }, "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-theme-secondary-button-label" }, "action": { "theme": "automatic", "navigate": true } } } } ] }',
      featureEnabled: true,
    },
    {
      name: "msw_c",
      slug: "msw_c",
      description:
        'First step as Pin with subtitle as Right-click the Firefox icon in your taskbar & select "Pin to Taskbar" and image as pin-to-taskbar-v2',
      ratio: 18,
      featureValue:
        '{ "id": "msw_c", "template": "multistage", "screens": [{ "id": "AW_PIN", "order": 0, "content": { "zap": true, "help_text": {"text": "Speed, safety, and privacy every time you browse.", "position": "default" }, "tiles": { "type": "image", "media_type": "pin", "source": { "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v2.svg" }}, "title": "Pin Firefox to your taskbar", "subtitle": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"", "primary_button": { "label": "Done", "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_IMPORT_SETTINGS", "order": 1, "content": { "zap": true, "disclaimer": { "string_id": "onboarding-import-sites-disclaimer" }, "title": { "string_id": "onboarding-multistage-import-header" }, "subtitle": { "string_id": "onboarding-multistage-import-subtitle" }, "tiles": { "type": "topsites", "showTitles": true }, "primary_button": { "label": { "string_id": "onboarding-multistage-import-primary-button-label" }, "action": { "type": "SHOW_MIGRATION_WIZARD", "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_CHOOSE_THEME", "order": 2, "content": { "zap": true, "title": { "string_id": "onboarding-multistage-theme-header" }, "subtitle": { "string_id": "onboarding-multistage-theme-subtitle" }, "tiles": { "type": "theme", "action": { "theme": "<event>" }, "data": [{ "theme": "automatic", "label": { "string_id": "onboarding-multistage-theme-label-automatic" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-automatic-2" }, "description": { "string_id": "onboarding-multistage-theme-description-automatic-2" } }, { "theme": "light", "label": { "string_id": "onboarding-multistage-theme-label-light" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-light-2" }, "description": { "string_id": "onboarding-multistage-theme-description-light" } }, { "theme": "dark", "label": { "string_id": "onboarding-multistage-theme-label-dark" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-dark-2" }, "description": { "string_id": "onboarding-multistage-theme-description-dark" } }, { "theme": "alpenglow", "label": { "string_id": "onboarding-multistage-theme-label-alpenglow" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2" }, "description": { "string_id": "onboarding-multistage-theme-description-alpenglow" } } ] }, "primary_button": { "label": { "string_id": "onboarding-multistage-theme-primary-button-label" }, "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-theme-secondary-button-label" }, "action": { "theme": "automatic", "navigate": true } } } } ] }',
      featureEnabled: true,
    },
    {
      name: "msw_d",
      slug: "msw_d",
      description:
        "First step as Pin with subtitle as Speed, safety, and privacy every time you browse. and image as pin-to-taskbar-v2",
      ratio: 18,
      featureValue:
        '{ "id": "msw_d", "template": "multistage", "screens": [{ "id": "AW_PIN", "order": 0, "content": { "zap": true, "help_text": {"text": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"", "position": "default" }, "tiles": { "type": "image", "media_type": "pin", "source": { "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v2.svg" }}, "title": "Pin Firefox to your taskbar", "subtitle": "Speed, safety, and privacy every time you browse.", "primary_button": { "label": "Done", "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_IMPORT_SETTINGS", "order": 1, "content": { "zap": true, "disclaimer": { "string_id": "onboarding-import-sites-disclaimer" }, "title": { "string_id": "onboarding-multistage-import-header" }, "subtitle": { "string_id": "onboarding-multistage-import-subtitle" }, "tiles": { "type": "topsites", "showTitles": true }, "primary_button": { "label": { "string_id": "onboarding-multistage-import-primary-button-label" }, "action": { "type": "SHOW_MIGRATION_WIZARD", "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-import-secondary-button-label" }, "action": { "navigate": true } } } }, { "id": "AW_CHOOSE_THEME", "order": 2, "content": { "zap": true, "title": { "string_id": "onboarding-multistage-theme-header" }, "subtitle": { "string_id": "onboarding-multistage-theme-subtitle" }, "tiles": { "type": "theme", "action": { "theme": "<event>" }, "data": [{ "theme": "automatic", "label": { "string_id": "onboarding-multistage-theme-label-automatic" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-automatic-2" }, "description": { "string_id": "onboarding-multistage-theme-description-automatic-2" } }, { "theme": "light", "label": { "string_id": "onboarding-multistage-theme-label-light" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-light-2" }, "description": { "string_id": "onboarding-multistage-theme-description-light" } }, { "theme": "dark", "label": { "string_id": "onboarding-multistage-theme-label-dark" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-dark-2" }, "description": { "string_id": "onboarding-multistage-theme-description-dark" } }, { "theme": "alpenglow", "label": { "string_id": "onboarding-multistage-theme-label-alpenglow" }, "tooltip": { "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2" }, "description": { "string_id": "onboarding-multistage-theme-description-alpenglow" } } ] }, "primary_button": { "label": { "string_id": "onboarding-multistage-theme-primary-button-label" }, "action": { "navigate": true } }, "secondary_button": { "label": { "string_id": "onboarding-multistage-theme-secondary-button-label" }, "action": { "theme": "automatic", "navigate": true } } } } ] }',
      featureEnabled: true,
    },
  ],
  featureConfig: {
    id: 1,
    slug: "aboutwelcome",
    name: "about:welcome",
    description: "Configure about:welcome",
    application: NimbusExperimentApplication.DESKTOP,
    ownerEmail: "ujet@mozilla.com",
    schema:
      '{\r\n  "description": "MultiStage About Welcome Schema.",\r\n  "type": "object",\r\n  "properties": {\r\n    "id": {\r\n      "description": "Unique message identifier",\r\n      "type": "string"\r\n    },\r\n    "template": {\r\n      "enum": [\r\n        "MULTISTAGE", "multistage"\r\n      ],\r\n      "type": "string"\r\n    },\r\n    "screens": {\r\n      "properties": {\r\n        "id": {\r\n          "description": "Unique id identifying screen",\r\n          "type": "string"\r\n        },\r\n        "order": {\r\n          "description": "Order in which screen should display",\r\n          "type": "number"\r\n        },\r\n        "content": {\r\n          "properties": {\r\n            "title": {\r\n              "oneOf": [\r\n                {\r\n                  "type": "string",\r\n                  "description": "The message displayed in the title of the screen"\r\n                },\r\n                {\r\n                  "type": "object",\r\n                  "properties": {\r\n                    "string_id": {\r\n                      "type": "string"\r\n                    }\r\n                  },\r\n                  "required": [\r\n                    "string_id"\r\n                  ],\r\n                  "description": "Id of localized string for screen title"\r\n                }\r\n              ],\r\n              "description": "Id of localized string or message override."\r\n            },\r\n            "subtitle": {\r\n              "oneOf": [\r\n                {\r\n                  "type": "string",\r\n                  "description": "The message displayed in the subtitle of the screen"\r\n                },\r\n                {\r\n                  "type": "object",\r\n                  "properties": {\r\n                    "string_id": {\r\n                      "type": "string"\r\n                    }\r\n                  },\r\n                  "required": [\r\n                    "string_id"\r\n                  ],\r\n                  "description": "Id of localized string for screen subtitle"\r\n                }\r\n              ],\r\n              "description": "Id of localized string or message override."\r\n            },\r\n            "primary_button": {\r\n              "properties": {\r\n                "label": {\r\n                  "oneOf": [\r\n                    {\r\n                      "type": "string",\r\n                      "description": "The label of the welcome screen primary action button"\r\n                    },\r\n                    {\r\n                      "type": "object",\r\n                      "properties": {\r\n                        "string_id": {\r\n                          "type": "string"\r\n                        }\r\n                      },\r\n                      "required": [\r\n                        "string_id"\r\n                      ],\r\n                      "description": "Id of localized string for screen primary button"\r\n                    }\r\n                  ],\r\n                  "description": "Id of localized string or message override."\r\n                },\r\n                "action": {\r\n                  "properties": {\r\n                    "navigate": {\r\n                      "description": "Boolean value that control navigation to next screen action",\r\n                      "type": "boolean"\r\n                    },\r\n                    "data": {\r\n                      "properties": {\r\n                        "args": {\r\n                          "type": "string"\r\n                        },\r\n                        "where": {\r\n                          "default": "currrent",\r\n                          "description": "Where the URL is opened.",\r\n                          "enum": [\r\n                            "current",\r\n                            "save",\r\n                            "tab",\r\n                            "tabshifted",\r\n                            "window"\r\n                          ],\r\n                          "type": "string"\r\n                        }\r\n                      },\r\n                      "type": "object"\r\n                    },\r\n                    "addFlowParams": {\r\n                      "description": "Controls adding flow parameters to redirected URL",\r\n                      "type": "boolean"\r\n                    },\r\n                    "type": {\r\n                      "description": "Action dispatched by the button.",\r\n                      "enum": [\r\n                        "OPEN_URL",\r\n                        "OPEN_ABOUT_PAGE",\r\n                        "SHOW_MIGRATION_WIZARD"\r\n                      ],\r\n                      "type": "string"\r\n                    }\r\n                  },\r\n                  "type": "object"\r\n                }\r\n              },\r\n              "type": "object"\r\n            },\r\n            "secondary_button": {\r\n              "properties": {\r\n                "label": {\r\n                  "oneOf": [\r\n                    {\r\n                      "type": "string",\r\n                      "description": "The label of the welcome screen secondary action button"\r\n                    },\r\n                    {\r\n                      "type": "object",\r\n                      "properties": {\r\n                        "string_id": {\r\n                          "type": "string"\r\n                        }\r\n                      },\r\n                      "required": [\r\n                        "string_id"\r\n                      ],\r\n                      "description": "Id of localized string for screen secondary button"\r\n                    }\r\n                  ],\r\n                  "description": "Id of localized string or message override."\r\n                },\r\n                "text": {\r\n                  "oneOf": [\r\n                    {\r\n                      "type": "string",\r\n                      "description": "The text shown before secondary action button"\r\n                    },\r\n                    {\r\n                      "type": "object",\r\n                      "properties": {\r\n                        "string_id": {\r\n                          "type": "string"\r\n                        }\r\n                      },\r\n                      "required": [\r\n                        "string_id"\r\n                      ],\r\n                      "description": "Id of localized string shown before secondary button"\r\n                    }\r\n                  ],\r\n                  "description": "Id of localized string or message override."\r\n                },\r\n                "position": {\r\n                  "description": "Decides placement of secondary link button on screen",\r\n                  "type": "string",\r\n                  "enum": [\r\n                    "top",\r\n                    "bottom"\r\n                  ]\r\n                },\r\n                "action": {\r\n                  "properties": {\r\n                    "navigate": {\r\n                      "description": "Boolean value that control navigation to next screen",\r\n                      "type": "boolean"\r\n                    },\r\n                    "data": {\r\n                      "properties": {\r\n                        "args": {\r\n                          "type": "string"\r\n                        },\r\n                        "where": {\r\n                          "default": "currrent",\r\n                          "description": "Where the URL is opened.",\r\n                          "enum": [\r\n                            "current",\r\n                            "save",\r\n                            "tab",\r\n                            "tabshifted",\r\n                            "window"\r\n                          ],\r\n                          "type": "string"\r\n                        }\r\n                      },\r\n                      "type": "object"\r\n                    },\r\n                    "addFlowParams": {\r\n                      "description": "Controls adding flow parameters to redirected URL",\r\n                      "type": "boolean"\r\n                    },\r\n                    "type": {\r\n                      "description": "Action dispatched by the button.",\r\n                      "enum": [\r\n                        "OPEN_URL",\r\n                        "OPEN_ABOUT_PAGE",\r\n                        "SHOW_MIGRATION_WIZARD"\r\n                      ],\r\n                      "type": "string"\r\n                    }\r\n                  },\r\n                  "type": "object"\r\n                }\r\n              },\r\n              "type": "object"\r\n            }\r\n          },\r\n          "type": "object"\r\n        }\r\n      },\r\n      "type": "array"\r\n    }\r\n  }\r\n}',
  },
  primaryOutcomes: [],
  secondaryOutcomes: [],
  channel: "RELEASE",
  firefoxMinVersion: "FIREFOX_86",
  targetingConfigSlug: "TARGETING_FIRST_RUN",
  jexlTargetingExpression:
    "browserSettings.update.channel == \"release\" && version|versionCompare('86.!') >= 0 && 'app.shield.optoutstudies.enabled'|preferenceValue && ((isFirstStartup && !('trailhead.firstrun.didSeeAboutWelcome'|preferenceValue)) || experiment.slug in activeExperiments)",
  populationPercent: "20.0000",
  totalEnrolledClients: 150000,
  proposedEnrollment: 7,
  proposedDuration: 28,
  readyForReview: {
    ready: true,
    message: {},
  },
  startDate: "2021-02-25",
  computedEndDate: "2021-03-24",
  computedEnrollmentDays: 7,
  computedDurationDays: 27,
  riskMitigationLink:
    "https://docs.google.com/document/d/1KvJ_kfxt_QGv_bxQWFov3ggXSjDxcRDyAHQek3skRdY/edit",
  riskRevenue: false,
  riskBrand: false,
  riskPartnerRelated: false,
  signoffRecommendations: {
    qaSignoff: true,
    vpSignoff: false,
    legalSignoff: false,
  },
  documentationLinks: [
    {
      title: "DESIGN_DOC",
      link: "https://mana.mozilla.org/wiki/display/FIREFOX/Experiment%3A+Ask+and+Show+Users+to+Pin+During+Onboarding",
    },
  ],
  isEnrollmentPausePending: true,
  isEnrollmentPaused: false,
  enrollmentEndDate: "2021-03-04",
  canReview: false,
  reviewRequest: null,
  rejection: null,
  timeout: null,
  recipeJson:
    '{\n  "appId": "firefox-desktop",\n  "appName": "firefox_desktop",\n  "application": "firefox-desktop",\n  "arguments": {},\n  "branches": [\n    {\n      "feature": {\n        "enabled": false,\n        "featureId": "aboutwelcome",\n        "value": {}\n      },\n      "ratio": 10,\n      "slug": "control-no-show"\n    },\n    {\n      "feature": {\n        "enabled": true,\n        "featureId": "aboutwelcome",\n        "value": {\n          "id": "msw_control",\n          "template": "multistage"\n        }\n      },\n      "ratio": 18,\n      "slug": "msw_control"\n    },\n    {\n      "feature": {\n        "enabled": true,\n        "featureId": "aboutwelcome",\n        "value": {\n          "id": "msw_a",\n          "screens": [\n            {\n              "content": {\n                "help_text": {\n                  "position": "default",\n                  "text": "Speed, safety, and privacy every time you browse."\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": "Done"\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"",\n                "tiles": {\n                  "media_type": "pin",\n                  "source": {\n                    "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v1.svg"\n                  },\n                  "type": "image"\n                },\n                "title": "Pin Firefox to your taskbar",\n                "zap": true\n              },\n              "id": "AW_PIN",\n              "order": 0\n            },\n            {\n              "content": {\n                "disclaimer": {\n                  "string_id": "onboarding-import-sites-disclaimer"\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true,\n                    "type": "SHOW_MIGRATION_WIZARD"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-import-subtitle"\n                },\n                "tiles": {\n                  "showTitles": true,\n                  "type": "topsites"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-import-header"\n                },\n                "zap": true\n              },\n              "id": "AW_IMPORT_SETTINGS",\n              "order": 1\n            },\n            {\n              "content": {\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true,\n                    "theme": "automatic"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-theme-subtitle"\n                },\n                "tiles": {\n                  "action": {\n                    "theme": "<event>"\n                  },\n                  "data": [\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-automatic-2"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-automatic"\n                      },\n                      "theme": "automatic",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-automatic-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-light"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-light"\n                      },\n                      "theme": "light",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-light-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-dark"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-dark"\n                      },\n                      "theme": "dark",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-dark-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-alpenglow"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-alpenglow"\n                      },\n                      "theme": "alpenglow",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2"\n                      }\n                    }\n                  ],\n                  "type": "theme"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-theme-header"\n                },\n                "zap": true\n              },\n              "id": "AW_CHOOSE_THEME",\n              "order": 2\n            }\n          ],\n          "template": "multistage"\n        }\n      },\n      "ratio": 18,\n      "slug": "msw_a"\n    },\n    {\n      "feature": {\n        "enabled": true,\n        "featureId": "aboutwelcome",\n        "value": {\n          "id": "msw_b",\n          "screens": [\n            {\n              "content": {\n                "help_text": {\n                  "position": "default",\n                  "text": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\""\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": "Done"\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": "Speed, safety, and privacy every time you browse.",\n                "tiles": {\n                  "media_type": "pin",\n                  "source": {\n                    "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v1.svg"\n                  },\n                  "type": "image"\n                },\n                "title": "Pin Firefox to your taskbar",\n                "zap": true\n              },\n              "id": "AW_PIN",\n              "order": 0\n            },\n            {\n              "content": {\n                "disclaimer": {\n                  "string_id": "onboarding-import-sites-disclaimer"\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true,\n                    "type": "SHOW_MIGRATION_WIZARD"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-import-subtitle"\n                },\n                "tiles": {\n                  "showTitles": true,\n                  "type": "topsites"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-import-header"\n                },\n                "zap": true\n              },\n              "id": "AW_IMPORT_SETTINGS",\n              "order": 1\n            },\n            {\n              "content": {\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true,\n                    "theme": "automatic"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-theme-subtitle"\n                },\n                "tiles": {\n                  "action": {\n                    "theme": "<event>"\n                  },\n                  "data": [\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-automatic-2"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-automatic"\n                      },\n                      "theme": "automatic",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-automatic-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-light"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-light"\n                      },\n                      "theme": "light",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-light-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-dark"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-dark"\n                      },\n                      "theme": "dark",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-dark-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-alpenglow"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-alpenglow"\n                      },\n                      "theme": "alpenglow",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2"\n                      }\n                    }\n                  ],\n                  "type": "theme"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-theme-header"\n                },\n                "zap": true\n              },\n              "id": "AW_CHOOSE_THEME",\n              "order": 2\n            }\n          ],\n          "template": "multistage"\n        }\n      },\n      "ratio": 18,\n      "slug": "msw_b"\n    },\n    {\n      "feature": {\n        "enabled": true,\n        "featureId": "aboutwelcome",\n        "value": {\n          "id": "msw_c",\n          "screens": [\n            {\n              "content": {\n                "help_text": {\n                  "position": "default",\n                  "text": "Speed, safety, and privacy every time you browse."\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": "Done"\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\"",\n                "tiles": {\n                  "media_type": "pin",\n                  "source": {\n                    "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v2.svg"\n                  },\n                  "type": "image"\n                },\n                "title": "Pin Firefox to your taskbar",\n                "zap": true\n              },\n              "id": "AW_PIN",\n              "order": 0\n            },\n            {\n              "content": {\n                "disclaimer": {\n                  "string_id": "onboarding-import-sites-disclaimer"\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true,\n                    "type": "SHOW_MIGRATION_WIZARD"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-import-subtitle"\n                },\n                "tiles": {\n                  "showTitles": true,\n                  "type": "topsites"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-import-header"\n                },\n                "zap": true\n              },\n              "id": "AW_IMPORT_SETTINGS",\n              "order": 1\n            },\n            {\n              "content": {\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true,\n                    "theme": "automatic"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-theme-subtitle"\n                },\n                "tiles": {\n                  "action": {\n                    "theme": "<event>"\n                  },\n                  "data": [\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-automatic-2"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-automatic"\n                      },\n                      "theme": "automatic",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-automatic-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-light"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-light"\n                      },\n                      "theme": "light",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-light-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-dark"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-dark"\n                      },\n                      "theme": "dark",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-dark-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-alpenglow"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-alpenglow"\n                      },\n                      "theme": "alpenglow",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2"\n                      }\n                    }\n                  ],\n                  "type": "theme"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-theme-header"\n                },\n                "zap": true\n              },\n              "id": "AW_CHOOSE_THEME",\n              "order": 2\n            }\n          ],\n          "template": "multistage"\n        }\n      },\n      "ratio": 18,\n      "slug": "msw_c"\n    },\n    {\n      "feature": {\n        "enabled": true,\n        "featureId": "aboutwelcome",\n        "value": {\n          "id": "msw_d",\n          "screens": [\n            {\n              "content": {\n                "help_text": {\n                  "position": "default",\n                  "text": "Right-click the Firefox icon in your taskbar & select \\"Pin to Taskbar\\""\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": "Done"\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": "Speed, safety, and privacy every time you browse.",\n                "tiles": {\n                  "media_type": "pin",\n                  "source": {\n                    "default": "chrome://activity-stream/content/data/content/assets/remote/pin-to-taskbar-v2.svg"\n                  },\n                  "type": "image"\n                },\n                "title": "Pin Firefox to your taskbar",\n                "zap": true\n              },\n              "id": "AW_PIN",\n              "order": 0\n            },\n            {\n              "content": {\n                "disclaimer": {\n                  "string_id": "onboarding-import-sites-disclaimer"\n                },\n                "primary_button": {\n                  "action": {\n                    "navigate": true,\n                    "type": "SHOW_MIGRATION_WIZARD"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-import-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-import-subtitle"\n                },\n                "tiles": {\n                  "showTitles": true,\n                  "type": "topsites"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-import-header"\n                },\n                "zap": true\n              },\n              "id": "AW_IMPORT_SETTINGS",\n              "order": 1\n            },\n            {\n              "content": {\n                "primary_button": {\n                  "action": {\n                    "navigate": true\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-primary-button-label"\n                  }\n                },\n                "secondary_button": {\n                  "action": {\n                    "navigate": true,\n                    "theme": "automatic"\n                  },\n                  "label": {\n                    "string_id": "onboarding-multistage-theme-secondary-button-label"\n                  }\n                },\n                "subtitle": {\n                  "string_id": "onboarding-multistage-theme-subtitle"\n                },\n                "tiles": {\n                  "action": {\n                    "theme": "<event>"\n                  },\n                  "data": [\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-automatic-2"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-automatic"\n                      },\n                      "theme": "automatic",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-automatic-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-light"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-light"\n                      },\n                      "theme": "light",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-light-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-dark"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-dark"\n                      },\n                      "theme": "dark",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-dark-2"\n                      }\n                    },\n                    {\n                      "description": {\n                        "string_id": "onboarding-multistage-theme-description-alpenglow"\n                      },\n                      "label": {\n                        "string_id": "onboarding-multistage-theme-label-alpenglow"\n                      },\n                      "theme": "alpenglow",\n                      "tooltip": {\n                        "string_id": "onboarding-multistage-theme-tooltip-alpenglow-2"\n                      }\n                    }\n                  ],\n                  "type": "theme"\n                },\n                "title": {\n                  "string_id": "onboarding-multistage-theme-header"\n                },\n                "zap": true\n              },\n              "id": "AW_CHOOSE_THEME",\n              "order": 2\n            }\n          ],\n          "template": "multistage"\n        }\n      },\n      "ratio": 18,\n      "slug": "msw_d"\n    }\n  ],\n  "bucketConfig": {\n    "count": 2000,\n    "namespace": "demo-slug-1",\n    "randomizationUnit": "normandy_id",\n    "start": 0,\n    "total": 10000\n  },\n  "channel": "release",\n  "endDate": "2021-03-24",\n  "featureIds": [\n    "aboutwelcome"\n  ],\n  "id": "demo-slug",\n  "isEnrollmentPaused": true,\n  "outcomes": [],\n  "probeSets": [],\n  "proposedDuration": 28,\n  "proposedEnrollment": 7,\n  "referenceBranch": "control-no-show",\n  "schemaVersion": "1.5.0",\n  "slug": "demo-slug",\n  "startDate": "2021-02-25",\n  "targeting": "browserSettings.update.channel == \\"release\\" && version|versionCompare(\'86.!\') >= 0 && \'app.shield.optoutstudies.enabled\'|preferenceValue && ((isFirstStartup && !(\'trailhead.firstrun.didSeeAboutWelcome\'|preferenceValue)) || experiment.slug in activeExperiments)",\n  "userFacingDescription": "Message Experiment: Ask new profiles to pin Firefox and show them how.",\n  "userFacingName": "Multi-Stage Onboarding Ask And Show To Pin"\n}',
  reviewUrl: "#",
  locales: [],
  countries: [],
} as getExperiment_experimentBySlug;
